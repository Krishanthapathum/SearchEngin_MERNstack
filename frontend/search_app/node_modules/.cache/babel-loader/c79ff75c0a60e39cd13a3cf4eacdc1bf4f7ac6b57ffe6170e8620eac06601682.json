{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./Search.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){const[searchTerm,setSearchTerm]=useState('');const[searchResult,setSearchResult]=useState([]);const[error,setError]=useState('');useEffect(()=>{async function fetchTVShows(){try{const response=await axios.get('/search',{params:{q:searchTerm}// Pass searchTerm as a query parameter\n});setSearchResult(response.data.result);// Assuming response.data.result contains search results\n}catch(error){console.error('Error fetching TV shows:',error);setError('Error fetching TV shows');}}fetchTVShows();},[searchTerm]);// Add searchTerm as a dependency\nconst handleSearch=async()=>{try{const response=await axios.get(\"/search?q=\".concat(searchTerm));setSearchResult(response.data.result);// Assuming response.data.result contains search results\n}catch(error){console.error('Error searching TV shows:',error);setError('Error searching TV shows');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Search Matching TV Series\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search TV Shows\",className:\"input\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"ul\",{className:\"result-list\",children:searchResult.map((show,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"result-item\",children:show},index))})]});}export default Search;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Search","searchTerm","setSearchTerm","searchResult","setSearchResult","error","setError","fetchTVShows","response","get","params","q","data","result","console","handleSearch","concat","className","children","type","value","onChange","e","target","placeholder","map","show","index"],"sources":["C:/Users/Pathum Krishantha/Desktop/New folder (2)/SearchEngin_MERNstack/frontend/search_app/src/components/Search.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './Search.css';\r\nfunction Search() {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [searchResult, setSearchResult] = useState([]);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function fetchTVShows() {\r\n            try {\r\n                const response = await axios.get('/search', {\r\n                    params: { q: searchTerm } // Pass searchTerm as a query parameter\r\n                });\r\n                setSearchResult(response.data.result); // Assuming response.data.result contains search results\r\n            } catch (error) {\r\n                console.error('Error fetching TV shows:', error);\r\n                setError('Error fetching TV shows');\r\n            }\r\n        }\r\n        fetchTVShows();\r\n    }, [searchTerm]); // Add searchTerm as a dependency\r\n\r\n    const handleSearch = async () => {\r\n        try {\r\n            const response = await axios.get(`/search?q=${searchTerm}`);\r\n            setSearchResult(response.data.result); // Assuming response.data.result contains search results\r\n        } catch (error) {\r\n            console.error('Error searching TV shows:', error);\r\n            setError('Error searching TV shows');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"title\">\r\n                <p>Search Matching TV Series</p>\r\n            </div>\r\n            <div className=\"search-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    placeholder=\"Search TV Shows\"\r\n                    className=\"input\"\r\n                />\r\n            </div>\r\n            {error && <p className=\"error\">{error}</p>}\r\n            <ul className=\"result-list\">\r\n                {searchResult.map((show, index) => (\r\n                    <li key={index} className=\"result-item\">{show}</li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACtB,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACd,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACU,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACZ,cAAe,CAAAa,YAAYA,CAAA,CAAG,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,SAAS,CAAE,CACxCC,MAAM,CAAE,CAAEC,CAAC,CAAEV,UAAW,CAAE;AAC9B,CAAC,CAAC,CACFG,eAAe,CAACI,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC,CAAE;AAC3C,CAAE,MAAOR,KAAK,CAAE,CACZS,OAAO,CAACT,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDC,QAAQ,CAAC,yBAAyB,CAAC,CACvC,CACJ,CACAC,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,CAACN,UAAU,CAAC,CAAC,CAAE;AAElB,KAAM,CAAAc,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACA,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,cAAAO,MAAA,CAAcf,UAAU,CAAE,CAAC,CAC3DG,eAAe,CAACI,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC,CAAE;AAC3C,CAAE,MAAOR,KAAK,CAAE,CACZS,OAAO,CAACT,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjDC,QAAQ,CAAC,0BAA0B,CAAC,CACxC,CACJ,CAAC,CAED,mBACIP,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBrB,IAAA,QAAKoB,SAAS,CAAC,OAAO,CAAAC,QAAA,cAClBrB,IAAA,MAAAqB,QAAA,CAAG,2BAAyB,CAAG,CAAC,CAC/B,CAAC,cACNrB,IAAA,QAAKoB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BrB,IAAA,UACIsB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEnB,UAAW,CAClBoB,QAAQ,CAAGC,CAAC,EAAKpB,aAAa,CAACoB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CI,WAAW,CAAC,iBAAiB,CAC7BP,SAAS,CAAC,OAAO,CACpB,CAAC,CACD,CAAC,CACLZ,KAAK,eAAIR,IAAA,MAAGoB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEb,KAAK,CAAI,CAAC,cAC1CR,IAAA,OAAIoB,SAAS,CAAC,aAAa,CAAAC,QAAA,CACtBf,YAAY,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC1B9B,IAAA,OAAgBoB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEQ,IAAI,EAApCC,KAAyC,CACrD,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CAEA,cAAe,CAAA3B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}